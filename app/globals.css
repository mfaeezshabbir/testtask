@import "tailwindcss";

/* Enhanced DND Kit Styles */
.drag-overlay {
  cursor: grabbing !important;
  pointer-events: none;
  z-index: 999;
  transform-origin: center center;
  transition: transform 150ms cubic-bezier(0.18, 0.67, 0.6, 1.22);
  -webkit-user-select: none;
  user-select: none;
}

.drag-overlay > * {
  transform: scale(1.05);
  box-shadow: 0 15px 25px -3px rgba(0, 0, 0, 0.15),
    0 8px 12px -4px rgba(0, 0, 0, 0.1);
  animation: overlay-appear 150ms cubic-bezier(0.18, 0.67, 0.6, 1.22);
  opacity: 0.95;
  transition: all 200ms cubic-bezier(0.18, 0.67, 0.6, 1.22);
}

/* Column hover effect during drag to be more visible */
[data-droppable-id]:hover {
  outline: 2px solid rgba(59, 130, 246, 0.5);
  outline-offset: -2px;
  background-color: rgba(59, 130, 246, 0.05);
}

/* Column with drag over state */
[data-droppable-id].droppable-over {
  background-color: rgba(59, 130, 246, 0.1);
  outline: 2px solid rgba(59, 130, 246, 0.6);
  outline-offset: -2px;
}

/* Enhanced animations */
@keyframes overlay-appear {
  0% {
    opacity: 0.5;
    transform: scale(0.98);
  }
  100% {
    opacity: 0.95;
    transform: scale(1.05);
  }
}

/* Enhanced column highlight animation */
@keyframes highlight-column {
  0% {
    background-color: rgba(59, 130, 246, 0.05);
    box-shadow: 0 0 0 2px rgba(59, 130, 246, 0.2);
  }
  50% {
    background-color: rgba(59, 130, 246, 0.15);
    box-shadow: 0 0 0 2px rgba(59, 130, 246, 0.4);
  }
  100% {
    background-color: rgba(59, 130, 246, 0.05);
    box-shadow: 0 0 0 2px rgba(59, 130, 246, 0.2);
  }
}

/* Enhanced Archive Column Styles */
.archive-column-new {
  animation: archive-column-appear 0.3s ease-out forwards;
}

@keyframes archive-column-appear {
  0% {
    opacity: 0;
    transform: translateX(20px);
  }
  100% {
    opacity: 1;
    transform: translateX(0);
  }
}

/* Improved drop placeholder animation */
@keyframes gentle-pulse {
  0%,
  100% {
    opacity: 0.7;
    transform: scale(0.98);
  }
  50% {
    opacity: 1;
    transform: scale(1);
  }
}

.animate-pulse {
  animation: gentle-pulse 1.5s ease-in-out infinite;
}

/* Archive placeholder styling */
.archive-column-placeholder {
  animation: archive-placeholder-appear 0.3s ease-out;
  position: relative;
}

@keyframes archive-placeholder-appear {
  0% {
    opacity: 0;
    transform: scale(0.95);
  }
  100% {
    opacity: 1;
    transform: scale(1);
  }
}

/* Global dragging state */
body.is-dragging {
  cursor: grabbing !important;
  -webkit-user-select: none !important;
  user-select: none !important;
}

body.is-dragging * {
  cursor: grabbing !important;
  -webkit-user-select: none !important;
  user-select: none !important;
}

/* Make column hover effects cover the entire column area */
[data-droppable-id] {
  position: relative;
  z-index: 1;
}

[data-droppable-id]::after {
  content: "";
  display: none;
  position: absolute;
  inset: 0;
  background-color: transparent;
  z-index: -1;
  border-radius: 0.5rem;
}

body.is-dragging [data-droppable-id]:hover::after {
  display: block;
  background-color: rgba(59, 130, 246, 0.05);
}

body.is-dragging [data-droppable-id].droppable-over::after {
  display: block;
  background-color: rgba(59, 130, 246, 0.1);
}

/* Improved styling for dragging outside columns */
body.is-dragging [data-board-container] {
  position: relative;
}

body.is-dragging [data-board-container]::after {
  content: "";
  position: absolute;
  inset: 0;
  background-color: rgba(243, 244, 246, 0.3);
  pointer-events: none;
  z-index: -1;
  border-radius: 0.5rem;
}

/* Specific card styles to ensure entire card is draggable without text selection */
[data-sortable-id] * {
  -webkit-user-select: none;
  user-select: none;
}

/* Column height fix */
.column-container {
  max-height: calc(100vh - 13rem); /* Leave space for header and navigation */
  height: fit-content !important;
  min-height: 70px;
}

.column-cards-container {
  height: auto !important;
  max-height: calc(100vh - 16rem); /* Slightly less than column to allow for padding */
  overflow-y: auto;
}

/* When there are cards, make sure the column doesn't expand too far */
.column-container:has(.column-cards-container:not(.hidden)) {
  height: fit-content !important;
  max-height: calc(100vh - 13rem);
  display: flex;
  flex-direction: column;
}
